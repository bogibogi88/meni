<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alkoholna Pića Menu</title>
  <style>
    :root {
      --bg-color: #121212;           /* Deep dark background */
      --container-bg: #1f1f1f;       /* Slightly lighter container background */
      --accent-color: #cda45e;       /* Warm, sophisticated gold accent */
      --text-color: #e0e0e0;         /* Light grey text */
      --border-color: #444;          /* Subtle border */
    }
    
    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    /* Body styling */
    body {
      background-color: var(--bg-color);
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      color: var(--text-color);
      padding: 20px;
      min-height: 100vh;
    }
    
    /* Main container */
    .menu-section {
      max-width: 800px;
      margin: 0 auto;
      background-color: var(--container-bg);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0,0,0,0.7);
    }
    
    /* Header with a big picture */
    .menu-header {
      position: relative;
      width: 100%;
      height: 250px;
      overflow: hidden;
    }
    .menu-header img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.8;
    }
    .menu-header h2 {
      position: absolute;
      bottom: 20px;
      left: 20px;
      font-size: 2.8rem;
      font-weight: 900;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--accent-color);
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
      margin: 0;
    }
    
    /* Menu items container */
    .menu-items {
      padding: 20px;
    }
    
    /* Each menu item */
    .menu-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 12px;
      border-bottom: 1px solid var(--border-color);
      transition: background 0.3s ease;
      cursor: pointer;
      position: relative;
      font-size: 1.4rem;
      font-weight: 900;
      text-transform: uppercase;
      user-select: none;
      word-wrap: break-word; /* Allow long names to break */
    }
    .menu-item:last-child {
      border-bottom: none;
    }
    .menu-item:hover {
      background-color: rgba(205, 164, 94, 0.15);
    }
    .menu-item:focus {
      outline: none !important;
    }
    /* Blur non-active items */
    .menu-item.blur {
      filter: blur(2px);
      opacity: 0.6;
    }
    /* Active item styling */
    .menu-item.active {
      filter: none;
      opacity: 1;
    }
    
    /* Quantity controls */
    .quantity-controls {
      display: flex;
      align-items: center;
      gap: 10px;
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      flex-wrap: nowrap; /* default for large screens */
    }
    .qty-btn {
      background-color: var(--accent-color);
      border: none;
      padding: 5px 10px;
      color: var(--text-color);
      font-size: 1.4rem;
      font-weight: 900;
      text-transform: uppercase;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }
    .qty-btn:hover {
      background-color: rgba(205, 164, 94, 0.8);
    }
    .qty-display {
      font-size: 1.4rem;
      min-width: 20px;
      text-align: center;
    }
    
    /* Action buttons at the bottom */
    .action-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px auto;
    }
    .action-btn {
      width: 200px;
      padding: 10px;
      background-color: var(--accent-color);
      border: none;
      border-radius: 5px;
      color: var(--text-color);
      font-size: 1.4rem;
      font-weight: 900;
      text-transform: uppercase;
      cursor: pointer;
      text-align: center;
      transition: background-color 0.3s ease;
    }
    .action-btn:hover {
      background-color: rgba(205, 164, 94, 0.8);
    }
    
    /* Responsive adjustments for mobile */
    @media (max-width: 600px) {
      .menu-header {
        height: 180px;
      }
      .menu-header h2 {
        font-size: 2rem;
        bottom: 10px;
        left: 10px;
      }
      .menu-item {
        flex-direction: column;   /* Stack vertically */
        align-items: flex-start;  /* Align text and controls to the left */
        padding: 8px 10px;
        font-size: 1.2rem;
        word-wrap: break-word;
      }
      .quantity-controls {
        position: static;        /* No absolute positioning on mobile */
        margin-top: 8px;         /* Add spacing above controls */
        transform: none;
        width: 100%;
        justify-content: flex-start;
        flex-wrap: wrap;         /* Allow controls to wrap if needed */
      }
      .qty-btn, .qty-display, .action-btn {
        font-size: 1.2rem;
      }
      .action-btn {
        width: 150px;
      }
    }
  </style>
</head>
<body>
  <div class="menu-section">
    <div class="menu-header">
      <img src="alc.jpg" alt="Alkoholna pića">
      <h2>Alkoholna pića</h2>
    </div>
    <div class="menu-items">
      <!-- Each menu-item uses a data-quantity attribute -->
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Gorki list 0.05</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Jägermeister 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Amaro Montenegro 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Vodka 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Gin 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Vermouth 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Tequila 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Martini 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Campari 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Baileys 0.05</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Jameson 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Chivas Regal 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Ballantine's 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Johnnie Walker 0.03</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Rakija Akov</span>
      </div>
      <div class="menu-item" data-quantity="0" onclick="selectItem(this)">
        <span class="item-name">Rakija</span>
      </div>
    </div>
    <div class="action-buttons">
      <button class="action-btn" onclick="viewOrder()">View Order</button>
    </div>
  </div>

  <script>
    let activeItem = null;

    function selectItem(item) {
      // If another item is active, finalize it first
      if (activeItem && activeItem !== item) {
        finalizeItem(activeItem);
      }
      activeItem = item;
      item.classList.add('active');
      
      // Blur all other items
      document.querySelectorAll('.menu-item').forEach(el => {
        if (el !== item) el.classList.add('blur');
        else el.classList.remove('blur');
      });
      
      // Add plus/minus/done controls if not present
      if (!item.querySelector('.quantity-controls')) {
        addControls(item);
      }
    }

    function addControls(item) {
      const controlsDiv = document.createElement('div');
      controlsDiv.className = 'quantity-controls';

      const minusBtn = document.createElement('button');
      minusBtn.textContent = '➖';
      minusBtn.className = 'qty-btn';
      minusBtn.onclick = e => {
        e.stopPropagation();
        updateQuantity(item, -1);
      };

      const qtyDisplay = document.createElement('span');
      qtyDisplay.className = 'qty-display';
      qtyDisplay.textContent = item.dataset.quantity;

      const plusBtn = document.createElement('button');
      plusBtn.textContent = '➕';
      plusBtn.className = 'qty-btn';
      plusBtn.onclick = e => {
        e.stopPropagation();
        updateQuantity(item, 1);
      };

      const doneBtn = document.createElement('button');
      doneBtn.textContent = 'DONE';
      doneBtn.className = 'qty-btn';
      doneBtn.onclick = e => {
        e.stopPropagation();
        finalizeItem(item);
      };

      controlsDiv.appendChild(minusBtn);
      controlsDiv.appendChild(qtyDisplay);
      controlsDiv.appendChild(plusBtn);
      controlsDiv.appendChild(doneBtn);
      item.appendChild(controlsDiv);
    }

    function finalizeItem(item) {
      item.classList.remove('active');
      removeControls(item);
      activeItem = null;
      // Unblur all items
      document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('blur'));
    }

    function removeControls(item) {
      const controls = item.querySelector('.quantity-controls');
      if (controls) controls.remove();
    }

    function updateQuantity(item, delta) {
      let qty = parseInt(item.dataset.quantity);
      qty = Math.max(0, qty + delta);
      item.dataset.quantity = qty;
      const display = item.querySelector('.qty-display');
      if (display) display.textContent = qty;
    }

    // Gather all ordered items
    function gatherOrders() {
      let orders = [];
      document.querySelectorAll('.menu-item').forEach(item => {
        let qty = parseInt(item.dataset.quantity);
        if (qty > 0) {
          orders.push({
            name: item.querySelector('.item-name').textContent,
            quantity: qty
          });
        }
      });
      return orders;
    }

    // Open the order summary in a new tab (mobile-friendly approach)
    function viewOrder() {
      let orders = gatherOrders();
      if (orders.length === 0) {
        alert("Please select at least one item.");
        return;
      }

      // Open a new tab without forcing dimensions
      let orderWindow = window.open("", "_blank");

      orderWindow.document.write(`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Order Summary</title>
  <style>
    body {
      background-color: #121212;
      color: #e0e0e0;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      padding: 20px;
      text-align: center;
    }
    h2 {
      font-size: 2.4rem;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 20px;
    }
    .order-item {
      margin-bottom: 10px;
      font-size: 1.4rem;
      text-transform: uppercase;
      font-weight: 900;
    }
    .action-btn, .back-btn {
      margin-top: 20px;
      width: 200px;
      padding: 10px;
      background-color: #cda45e;
      border: none;
      border-radius: 5px;
      color: #e0e0e0;
      font-size: 1.4rem;
      font-weight: 900;
      text-transform: uppercase;
      cursor: pointer;
      text-align: center;
      transition: background-color 0.3s ease;
    }
    .action-btn:hover, .back-btn:hover {
      background-color: rgba(205, 164, 94, 0.8);
    }
    .back-btn {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h2>Order Summary</h2>
  <div id="order-list">`);

      orders.forEach(order => {
        orderWindow.document.write(`
          <div class="order-item">
            ${order.name} - Quantity: ${order.quantity}
          </div>
        `);
      });

      orderWindow.document.write(`
    </div>
    <button class="action-btn" onclick="alert('Order submitted!')">Submit Order</button>
    <br />
    <button class="back-btn" onclick="window.close()">Back</button>
</body>
</html>`);
      orderWindow.document.close();
    }
  </script>
</body>
</html>

